/**
 * 导航下拉菜单样式
 */

/* 下拉菜单容器 */
.nav-dropdown {
  @apply relative;
}

.nav-dropdown-depth-0 {
  @apply static md:relative;
}

/* 按钮样式 */
.nav-dropdown-button {
  @apply flex items-center gap-1 px-3 py-2 text-sm font-medium transition-colors w-full text-left;
  @apply text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100;
  @apply rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800;
}

.nav-dropdown-depth-0 > .nav-dropdown-button {
  @apply px-0 py-0 bg-transparent hover:bg-transparent;
}

/* 链接样式 */
.nav-dropdown-link {
  @apply flex items-center gap-1 px-3 py-2 text-sm transition-colors w-full text-left;
  @apply text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100;
  @apply rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800;
}

.nav-dropdown-depth-0 > .nav-dropdown-link {
  @apply px-0 py-0 bg-transparent hover:bg-transparent;
}

/* 图标样式 */
.nav-dropdown-icon {
  @apply h-3 w-3 transition-transform duration-200;
}

.nav-external-icon {
  @apply h-3 w-3 opacity-50;
}

/* 下拉菜单样式 */
.nav-dropdown-menu {
  @apply absolute z-50 mt-2;
  @apply bg-white dark:bg-gray-800;
  @apply border border-gray-200 dark:border-gray-700;
  @apply rounded-lg shadow-lg;
}

.nav-dropdown-menu-depth-0 {
  @apply left-0 min-w-[240px];
}

/* 避免子菜单重叠 */
.nav-dropdown-menu-depth-1 {
  @apply left-full top-0 ml-2 -mt-1 min-w-[200px];
}

.nav-dropdown-menu-depth-2 {
  @apply left-full top-0 ml-2 mt-0 min-w-[200px];
}

/* 菜单内容 */
.nav-dropdown-menu-inner {
  @apply p-2;
}

.nav-dropdown-item {
  @apply relative;
}

/* 分组标题 */
.nav-dropdown-group-title {
  @apply px-3 py-2 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider;
}

/* 子菜单指示器 */
.nav-dropdown-depth-1 .nav-dropdown-button::after,
.nav-dropdown-depth-2 .nav-dropdown-button::after {
  content: '';
  @apply absolute right-2 top-1/2 -translate-y-1/2;
  @apply w-0 h-0;
  @apply border-l-4 border-l-gray-400 dark:border-l-gray-500;
  @apply border-y-4 border-y-transparent;
}

/* 移动端样式 */
@media (max-width: 768px) {
  .nav-dropdown-menu {
    @apply static mt-0 shadow-none border-0 bg-transparent;
  }
  
  .nav-dropdown-menu-inner {
    @apply pl-4;
  }
  
  .nav-dropdown-button {
    @apply w-full justify-between;
  }
  
  .nav-dropdown-link {
    @apply w-full;
  }
  
  .nav-dropdown-menu-depth-1,
  .nav-dropdown-menu-depth-2 {
    @apply static ml-0 mt-0;
  }
}

/* 激活状态 */
.nav-dropdown-link.active,
.nav-dropdown-button.active {
  @apply text-primary-600 dark:text-primary-400;
  @apply bg-primary-50 dark:bg-primary-900/20;
}

/* 禁用状态 */
.nav-dropdown-link.disabled,
.nav-dropdown-button.disabled {
  @apply opacity-50 cursor-not-allowed;
}

/* 分隔线 */
.nav-dropdown-divider {
  @apply my-2 border-t border-gray-200 dark:border-gray-700;
}

/* 徽章 */
.nav-dropdown-badge {
  @apply ml-auto px-2 py-0.5 text-xs font-medium rounded-full;
  @apply bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300;
}

/* 图标菜单项 */
.nav-dropdown-item-with-icon {
  @apply flex items-center gap-3;
}

.nav-dropdown-item-icon {
  @apply h-4 w-4 text-gray-500 dark:text-gray-400;
}

/* 描述文本 */
.nav-dropdown-item-description {
  @apply block text-xs text-gray-500 dark:text-gray-400 mt-1;
}

/* 大型下拉菜单（如产品菜单） */
.nav-dropdown-mega {
  @apply min-w-[600px];
}

.nav-dropdown-mega .nav-dropdown-menu-inner {
  @apply grid grid-cols-2 gap-6 p-6;
}

.nav-dropdown-mega-section {
  @apply space-y-3;
}

.nav-dropdown-mega-title {
  @apply text-sm font-semibold text-gray-900 dark:text-white mb-3;
}

/* 悬停效果优化 */
.nav-dropdown:hover > .nav-dropdown-button,
.nav-dropdown:hover > .nav-dropdown-link {
  @apply text-gray-900 dark:text-gray-100;
}

/* 动画优化 */
.nav-dropdown-menu {
  transform-origin: top left;
}

.nav-dropdown-menu-depth-1,
.nav-dropdown-menu-depth-2 {
  transform-origin: left center;
}